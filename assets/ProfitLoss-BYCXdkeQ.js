import{a as W}from"./AdminLayout-DT04zIhu.js";import{_ as N}from"./ComponentCard.vue_vue_type_script_setup_true_lang-CfUfV4iV.js";import{E as U,a as M,b as V,F as Y}from"./FileSaver.min-CPpb3e3u.js";import{f as J,C as H}from"./flatpickr.min-1bHtjdTR.js";import{r as S,m as K,i as Q,c as h,o as x,a as t,k,e as T,u as q,F as _,b as P,t as i,n as L,d as X,g as Z,w as j}from"./index-DD5Oiftb.js";const I={class:"p-3 sm:p-5 border-b border-gray-200 dark:border-gray-700"},tt={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4"},et={class:"flex flex-col gap-2 w-[300px] relative"},at={__name:"PlFilters",props:{filters:{type:Object,required:!0},filteredData:{type:Array,required:!0},totalData:{type:Object,required:!0}},emits:["update:filters","export-to-pdf","export-to-excel"],setup(d,{emit:c}){const a=d,e=c,r=S({...a.filters}),b=S(null),o=S(null),s=S(!1);K(()=>{b.value=J(o.value,{mode:"range",dateFormat:"m/d/Y",defaultDate:[r.value.startDate,r.value.endDate],onChange:f=>{f.length===2?(r.value.startDate=f[0].toISOString().split("T")[0],r.value.endDate=f[1].toISOString().split("T")[0],e("update:filters",{...r.value}),s.value=!0):s.value=!1}})});const p=()=>{b.value&&(b.value.clear(),r.value.startDate=null,r.value.endDate=null,e("update:filters",{...r.value}),s.value=!1)};Q(r,f=>{e("update:filters",{...f})},{deep:!0});const C=new Date,n=f=>f!==0?Number(f).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"-",w=f=>f.replace(/^./,l=>l.toUpperCase()),z=()=>{const f=new U,l=[];a.filteredData&&a.filteredData.length?(a.filteredData.forEach(y=>{var $,u,m,D;l.push([{content:w(y.name)+":",styles:{fontStyle:"bold",halign:"left",fillColor:[255,255,255],textColor:[0,0,0]}},"","",""]),y.list&&y.list.length&&y.list.forEach(g=>{var A,R;const v=g.list&&g.list.length>0,G=[{content:`    ${w(g.name)}${v?" - ":""}`,styles:{halign:"left",fillColor:v?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:v?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:n(((A=g.total)==null?void 0:A.price)??g.price??0),styles:{halign:"right",fillColor:v?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:(((R=g.total)==null?void 0:R.percent)??g.percent??0)+"%",styles:{halign:"right",fillColor:v?[255,255,255]:[254,249,194],textColor:[0,0,0]}}];l.push(G),g.list&&g.list.length&&g.list.forEach(O=>{l.push([{content:`        ${w(O.name)}`,styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:n(O.price??0),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:(O.percent??0)+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}])}),g.total&&l.push([{content:`Total ${g.name}`,styles:{halign:"center",fillColor:[128,128,128],textColor:[255,255,0]}},{content:"$",styles:{halign:"center",fillColor:[128,128,128],textColor:[255,255,0]}},{content:n(g.total.price),styles:{halign:"right",fillColor:[128,128,128],textColor:[255,255,0]}},{content:g.total.percent+"%",styles:{halign:"right",fillColor:[128,128,128],textColor:[255,255,0]}}])}),l.push([{content:`Total ${y.name}`,styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:n((($=y.total)==null?void 0:$.price)??y.price??0),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:(((u=y.total)==null?void 0:u.percent)??y.percent??0)+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),y.production_cost&&l.push([{content:"Costo de Produccion",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:n(((m=y.production_cost)==null?void 0:m.price)??"-"),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:(((D=y.production_cost)==null?void 0:D.percent)??0)+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),l.push([{content:"",colSpan:4,styles:{cellWidth:"auto",fillColor:[255,255,255]}}])}),a.totalData&&(l.push([{content:"Ganancia Operativa Bruta",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:n(a.totalData.profit.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a.totalData.profit.percent+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),l.push([{content:"Impuestos SAT",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:n(a.totalData.tax.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a.totalData.tax.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),l.push([{content:"Préstamos Bancarios",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:n(a.totalData.bank_loans.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a.totalData.bank_loans.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),l.push([{content:"Intereses",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:n(a.totalData.interest.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a.totalData.interest.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),l.push([{content:"Ganancia Bruta antes de Impuestos",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:n(a.totalData.profit_without_tax.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a.totalData.profit_without_tax.percent+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),l.push([{content:"TOTAL GASTOS",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:n(a.totalData.expense.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},""]))):l.push(["No data","-","-","-"]),M(f,{body:l,startY:10,theme:"plain",styles:{cellPadding:2},columnStyles:{0:{cellWidth:100},1:{cellWidth:10},2:{cellWidth:40},3:{cellWidth:30}}});const B=`profit_loss_report${C.toISOString().split("T")[0]}.pdf`;f.save(B),e("export-to-pdf")},E=async()=>{const f=new V.Workbook,l=f.addWorksheet("ProfitLoss");a.filteredData.forEach(u=>{l.addRow([w(u.name),n(u.total?u.total.price:u.price),(u.total?u.total.percent:u.percent)+"%"]),u.list&&u.list.forEach(m=>{l.addRow(["  "+w(m.name),n(m.total?m.total.price:m.price),(m.total?m.total.percent:m.percent)+"%"]),m.list&&m.list.forEach(D=>{l.addRow(["    "+w(D.name),n(D.price),D.percent+"%"])})})}),l.addRow(["Ganancia Operativa Bruta",n(a.totalData.profit.price),a.totalData.profit.percent+"%"]),l.addRow(["Impuestos SAT",n(a.totalData.tax.price),a.totalData.tax.percent+"%"]),l.addRow(["Préstamos Bancarios",n(a.totalData.bank_loans.price),a.totalData.bank_loans.percent+"%"]),l.addRow(["Intereses",n(a.totalData.interest.price),a.totalData.interest.percent+"%"]),l.addRow(["Ganancia Bruta antes de Impuestos",n(a.totalData.profit_without_tax.price),a.totalData.profit_without_tax.percent+"%"]),l.addRow(["TOTAL GASTOS",n(a.totalData.expense.price)," "]);const B=`profit_loss_report${C.toISOString().split("T")[0]}.xlsx`,y=await f.xlsx.writeBuffer(),$=new Blob([y],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Y.saveAs($,B),e("export-to-excel")};return(f,l)=>(x(),h("div",I,[t("div",tt,[t("div",et,[l[0]||(l[0]=t("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Date Range",-1)),t("input",{ref_key:"datePicker",ref:o,class:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200",placeholder:"Select date range"},null,512),s.value?(x(),h("div",{key:0,class:"absolute top-11 right-2 z-10",onClick:p},[T(q(H))])):k("",!0)]),t("div",{class:"flex flex-wrap gap-3"},[t("button",{onClick:z,class:"px-4 py-2 bg-yellow-400 text-sm text-black rounded-lg hover:bg-yellow-500 transition-colors"}," Export to PDF "),t("button",{onClick:E,class:"px-4 py-2 bg-yellow-400 text-sm text-black rounded-lg hover:bg-yellow-500 transition-colors"}," Export to Excel ")])])]))}},ot={class:"p-3 sm:p-5 max-w-full overflow-x-auto custom-scrollbar"},lt={class:"w-full"},rt={class:"bg-white dark:bg-gray-700 dark:text-gray-400"},nt={class:"font-bold capitalize",colspan:"4"},it=["colspan"],st={class:"px-2 font-bold text-right"},ct={class:"px-2 font-bold text-right"},pt={class:"px-2 pl-12 capitalize"},dt={class:"px-2 text-right font-bold"},ft={class:"px-2 text-right font-bold"},xt={key:1,class:"bg-gray-500"},yt={class:"px-2 font-regular text-center text-yellow-300"},gt={class:"px-2 text-right font-bold text-yellow-300"},ht={class:"px-2 text-right font-bold text-yellow-300"},ut={class:"font-bold bg-black dark:bg-gray-700 text-yellow-300 dark:text-yellow-500 capitalize"},mt={class:"px-2 py-1 capitalize"},Ct={class:"px-2 py-1 text-right"},bt={class:"px-2 py-1 text-right"},wt={key:1,class:"font-bold bg-black dark:bg-gray-700 text-yellow-300 dark:text-yellow-500 capitalize"},_t={class:"px-2 py-1 text-right"},Dt={class:"px-2 py-1 text-right"},kt={class:"bg-black dark:bg-gray-700 mt-3"},vt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},St={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},$t={class:"bg-yellow-100 dark:bg-yellow-200"},Tt={class:"px-2 text-right font-bold"},zt={class:"px-2 text-right font-bold"},Et={class:"bg-yellow-100 dark:bg-yellow-200"},Bt={class:"px-2 text-right font-bold"},Ot={class:"px-2 text-right font-bold"},Pt={class:"bg-yellow-100 dark:bg-yellow-200"},Ft={class:"px-2 text-right font-bold"},qt={class:"px-2 text-right font-bold"},At={class:"bg-black dark:bg-gray-700"},Rt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},Lt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},jt={class:"bg-black dark:bg-gray-700"},Gt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},Wt={key:1},Nt={__name:"PlTable",props:{filteredData:Array,totalData:Object},setup(d){const c=a=>a!==0?Number(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"-";return(a,e)=>(x(),h("div",ot,[t("table",lt,[t("tbody",null,[d.filteredData&&d.filteredData.length?(x(),h(_,{key:0},[(x(!0),h(_,null,P(d.filteredData,(r,b)=>(x(),h(_,{key:b},[t("tr",rt,[t("td",nt,i(r.name)+": ",1)]),r.list&&r.list.length?(x(!0),h(_,{key:0},P(r.list,(o,s)=>(x(),h(_,{key:`${b}-${s}`},[t("tr",{class:L(o.list&&o.list.length>0?"bg-white dark:bg-gray-700 dark:text-gray-400":"bg-yellow-100 dark:bg-yellow-200")},[t("td",{class:L(["px-2 capitalize",{"font-bold":o.list&&o.list.length>0}]),colspan:o.list&&o.list.length===0?"4":"1"},i(o.name)+" "+i(o.list&&o.list.length>0?"-":""),11,it),e[0]||(e[0]=t("td",{class:"px-2 font-bold text-center"}," $ ",-1)),t("td",st,i(o.total?c(o.total.price):c(o.price)),1),t("td",ct,i(o.total?o.total.percent:o.percent)+"% ",1)],2),o.list&&o.list.length?(x(!0),h(_,{key:0},P(o.list,(p,C)=>(x(),h("tr",{class:"bg-yellow-100 dark:bg-yellow-200",key:`${b}-${s}-${C}`},[t("td",pt,i(p.name),1),e[1]||(e[1]=t("td",{class:"px-2 text-center font-bold"}," $ ",-1)),t("td",dt,i(c(p.price)),1),t("td",ft,i(p.percent)+"% ",1)]))),128)):k("",!0),o.total?(x(),h("tr",xt,[t("td",yt," Total "+i(o.name),1),e[2]||(e[2]=t("td",{class:"px-2 font-bold text-yellow-300 text-center"}," $ ",-1)),t("td",gt,i(c(o.total.price)),1),t("td",ht,i(o.total.percent)+"% ",1)])):k("",!0)],64))),128)):k("",!0),t("tr",ut,[t("td",mt," total "+i(r.name),1),e[3]||(e[3]=t("td",{class:"px-2 py-1 text-center"}," $ ",-1)),t("td",Ct,i(r.total?c(r.total.price):c(r.price)),1),t("td",bt,i(r.total?r.total.percent:r.percent)+"% ",1)]),r.production_cost?(x(),h("tr",wt,[e[4]||(e[4]=t("td",{class:"px-2 py-1"}," Costo de Produccion ",-1)),e[5]||(e[5]=t("td",{class:"px-2 py-1 text-center"}," $ ",-1)),t("td",_t,i(r.production_cost?c(r.production_cost.price):"-"),1),t("td",Dt,i(r.production_cost?r.production_cost.percent:0)+"% ",1)])):k("",!0),e[6]||(e[6]=t("tr",{class:"h-[20px]"},null,-1))],64))),128)),d.totalData?(x(),h(_,{key:0},[t("tr",kt,[e[7]||(e[7]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"Ganancia Operativa Bruta",-1)),e[8]||(e[8]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",vt,i(c(d.totalData.profit.price)),1),t("td",St,i(d.totalData.profit.percent)+"% ",1)]),t("tr",$t,[e[9]||(e[9]=t("td",{class:"px-2 capitalize"},"Impuestos SAT",-1)),e[10]||(e[10]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",Tt,i(c(d.totalData.tax.price)),1),t("td",zt,i(d.totalData.tax.percent)+"%",1)]),t("tr",Et,[e[11]||(e[11]=t("td",{class:"px-2 capitalize"},"Préstamos Bancarios",-1)),e[12]||(e[12]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",Bt,i(c(d.totalData.bank_loans.price)),1),t("td",Ot,i(d.totalData.bank_loans.percent)+"%",1)]),t("tr",Pt,[e[13]||(e[13]=t("td",{class:"px-2 capitalize"},"Intereses",-1)),e[14]||(e[14]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",Ft,i(c(d.totalData.interest.price)),1),t("td",qt,i(d.totalData.interest.percent)+"%",1)]),t("tr",At,[e[15]||(e[15]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"Ganancia Bruta antes de Impuestos",-1)),e[16]||(e[16]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",Rt,i(c(d.totalData.profit_without_tax.price)),1),t("td",Lt,i(d.totalData.profit_without_tax.percent)+"% ",1)]),t("tr",jt,[e[17]||(e[17]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"TOTAL GASTOS",-1)),e[18]||(e[18]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",Gt,i(c(d.totalData.expense.price)),1),e[19]||(e[19]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},null,-1))])],64)):k("",!0)],64)):(x(),h("tr",Wt,e[20]||(e[20]=[t("td",{colspan:"4",class:"px-2 text-center"},"No data available",-1)])))])])]))}},Ut=[{name:"ventas",date:"2025-06-01",total:{price:267482.56,percent:100},production_cost:{price:6510.7,percent:50},list:[{name:"alimento",date:"2025-06-02",price:191631.24,percent:71.6},{name:"refrescos",date:"2025-06-03",price:0,percent:0},{name:"Otra Mercancia",date:"2025-06-04",price:0,percent:0},{name:"bar",date:"2025-06-05",total:{price:75531.32,percent:28.4},list:[{name:"licor",date:"2025-06-06",price:45171.15,percent:16.9},{name:"cerveza - barril",date:"2025-06-07",price:0,percent:0},{name:"cerveza - embotellada",date:"2025-06-08",price:26077.76,percent:9.9},{name:"vino",date:"2025-06-09",price:4072.41,percent:1.5}]},{name:"otros ingresos operativos",date:"2025-06-10",total:{price:0,percent:0},list:[{name:"rentas salones de eventos",date:"2025-06-11",price:0,percent:0},{name:"renta de equipo banquetes",date:"2025-06-12",price:0,percent:0},{name:"ingresos por servicios",date:"2025-06-13",price:0,percent:0},{name:"ingresos por otros servicios",date:"2025-06-14",price:0,percent:0}]}]},{name:"costo de venta",date:"2025-06-15",total:{price:100933.79,percent:37.7},production_cost:{price:5310.47,percent:40},list:[{name:"alimento",date:"2025-06-16",price:66791.96,percent:34.9},{name:"bar",date:"2025-06-17",price:29268.52,percent:38.6},{name:"desechables",date:"2025-06-18",price:4873.31,percent:1.8}]},{name:"mano de obra",date:"2025-06-19",total:{price:112965.91,percent:42.2},production_cost:{price:7315.47,percent:65},list:[{name:"admin",date:"2025-06-20",price:7e3,percent:4.3},{name:"empleados",date:"2025-06-19",total:{price:.01,percent:0},list:[{name:"cocina",date:"2025-06-21",price:0,percent:0},{name:"piso",date:"2025-06-22",price:0,percent:0},{name:"banquetes",date:"2025-06-23",price:112965.9,percent:42.2},{name:"empleados",date:"2025-06-24",price:34596.9,percent:21.2}]},{name:"prestaiones empleados",date:"2025-06-24",total:{price:.01,percent:0},list:[{name:"impuestos prestaciones",date:"2025-06-25",price:.01,percent:0},{name:"seguro social I.M.S.S.",date:"2025-06-26",price:0,percent:0},{name:"uber/taxi empleados",date:"2025-06-27",price:0,percent:0},{name:"otras prestaciones",date:"2025-06-28",price:0,percent:0}]}]},{name:"gastos fijos o variables",date:"2025-06-29",total:{price:127072.1,percent:47.5},production_cost:{price:213899.7,percent:80},list:[{name:"gastos de automovil o camion",date:"2025-06-30",price:0,percent:0},{name:"banquetes y catering",date:"2025-07-01",price:0,percent:0},{name:"utensilios de bar y suminstros",date:"2025-07-02",price:746,percent:.3},{name:"suministros de limpieza",date:"2025-07-03",price:2500.98,percent:.9},{name:"equipos/otros alquileres",date:"2025-07-04",price:0,percent:0},{name:"flores y decoraciones",date:"2025-07-05",price:3626.59,percent:1.4},{name:"cargos por flete y combustible",date:"2025-07-06",price:0,percent:0},{name:"cristaleria",date:"2025-07-07",price:0,percent:0},{name:"utensilios de cocina",date:"2025-07-08",price:5198.53,percent:1.9},{name:"lavanderia y tinteria",date:"2025-07-09",price:0,percent:0},{name:"alquiler de ropa y manteleria",date:"2025-07-10",price:0,percent:0},{name:"menus y listas de bebidas",date:"2025-07-11",price:0,percent:0},{name:"miscelaneas/varios",date:"2025-07-12",price:0,percent:0},{name:"papel y empaque",date:"2025-07-13",price:0,percent:0},{name:"valet parking",date:"2025-07-14",price:0,percent:0},{name:"control de plagas",date:"2025-07-15",price:0,percent:0},{name:"vajilla y articulos de servicio",date:"2025-07-16",price:0,percent:0},{name:"uniformes",date:"2025-07-17",price:0,percent:0},{name:"gastos directos operativos",date:"2025-07-18",total:{price:12707.1,percent:4.8}},{name:"musica y entretenimiento",date:"2025-07-19",total:{price:810,percent:.3},list:[{name:"bandas y musicos",date:"2025-07-20",price:0,percent:0},{name:"tarifas de licencias de musica",date:"2025-07-21",price:0,percent:0},{name:"servicio de transmision de television",date:"2025-07-22",price:810,percent:.3}]},{name:"mercadotecnia",date:"2025-07-23",total:{price:806.4,percent:.3},list:[{name:"publicidad de respuesta directa",date:"2025-07-24",price:806.4,percent:.3},{name:"relaciones publicas y publicidad",date:"2025-07-25",price:0,percent:0},{name:"encuestas de mercado",date:"2025-07-26",price:0,percent:0},{name:"otro",date:"2025-07-27",price:0,percent:0}]},{name:"servicios",date:"2025-07-28",total:{price:56157.45,percent:21},list:[{name:"electricidad",date:"2025-07-29",price:51409,percent:19.2},{name:"gas",date:"2025-07-30",price:0,percent:0},{name:"carbon",date:"2025-07-31",price:0,percent:0},{name:"otros combustibles-hielo",date:"2025-08-01",price:478.5,percent:.2},{name:"basura",date:"2025-08-02",price:4269.95,percent:1.6},{name:"agua y alcantarillado",date:"2025-08-03",price:0,percent:0}]},{name:"gastos generales & admin",date:"2025-08-04",total:{price:16363.63,percent:6.1},list:[{name:"cargos bancarios",date:"2025-08-05",price:10524.93,percent:3.9},{name:"efectivo (positivo/negativo) caja chica",date:"2025-08-06",price:0,percent:0},{name:"reclamaciones y danos pagados",date:"2025-08-07",price:0,percent:0},{name:"servicios de consultoria y coaching",date:"2025-08-08",price:0,percent:0},{name:"tarifas de tarjetas de credito",date:"2025-08-09",price:0,percent:0},{name:"honorarios de directores o funcionarios",date:"2025-08-10",price:0,percent:0},{name:"tovenmx",date:"2025-08-11",price:0,percent:0},{name:"seguros-responsabilidad civil y general",date:"2025-08-12",price:0,percent:0},{name:"licencias y permisos",date:"2025-08-13",price:2674.14,percent:1},{name:"miscelaneas",date:"2025-08-14",price:0,percent:0},{name:"articulos de oficina",date:"2025-08-15",price:3164.56,percent:1.2},{name:"eventos especiales",date:"2025-08-16",price:0,percent:0},{name:"servicios profesionales",date:"2025-08-17",price:0,percent:0},{name:"servicios de seguridad y deposito",date:"2025-08-18",price:0,percent:0},{name:"impuestos comerciales estatales",date:"2025-08-19",price:0,percent:0},{name:"telefono y comunicaciones",date:"2025-08-20",price:0,percent:0},{name:"programas y materiales de capacitacion",date:"2025-08-21",price:0,percent:0}]},{name:"reparaciones & mantenimiento",date:"2025-08-22",total:{price:11730.67,percent:4.4},list:[{name:"servicio de trampa de grasa",date:"2025-08-23",price:0,percent:0},{name:"equipos y mobiliario",date:"2025-08-24",price:11730.67,percent:4.4},{name:"terrenos y estacionamiento",date:"2025-08-25",price:0,percent:0}]}],ganancia_operativa:{price:-44357.39,percent:-16.6}},{name:"gastos fijos",date:"2025-08-26",total:{price:44357.39,percent:16.6},profit:{price:19983.4,percent:12.3},list:[{name:"costos de ocupación",date:"2025-08-27",total:{price:23354.4,percent:8.7},list:[{name:"renta",date:"2025-08-28",price:0,percent:0},{name:"mantenimiento de áreas comunes",date:"2025-08-29",price:2768.4,percent:1},{name:"seguro de edificio y contenido",date:"2025-08-30",price:0,percent:0},{name:"otros impuestos estatales",date:"2025-08-31",price:20586,percent:7.7},{name:"predial",date:"2025-09-01",price:0,percent:0},{name:"otros impuestos",date:"2025-09-02",price:0,percent:0}]},{name:"arriendamientos de equipos",date:"2025-09-03",price:0,percent:0},{name:"depreciación y amortización",date:"2025-09-04",price:0,percent:0}]}],Mt={profit:{price:-11816.13,percent:7.3},tax:{price:0,percent:0},bank_loans:{price:0,percent:0},interest:{price:0,percent:0},profit_without_tax:{price:-11816.13,percent:7.3},expense:{price:73068.28,percent:7.3}},F={list:Ut,total:Mt},Vt={class:"space-y-5 sm:space-y-6"},Xt={__name:"ProfitLoss",setup(d){const c=S({startDate:"",endDate:""}),a=X(()=>(o=>!c.value.startDate||!c.value.endDate?o:o.map(s=>s.list?{...s,list:s.list.map(p=>{var C;return{name:p.name,price:p.price||(p.total?p.total.price:0),percent:p.percent||(p.total?p.total.percent:0),total:p.total,list:(C=p.list)==null?void 0:C.filter(n=>{let w=new Date(n.date||"2025-06-01");const z=new Date(c.value.startDate),E=new Date(c.value.endDate);return w>=z&&w<=E}).map(n=>({name:n.name,price:n.price,percent:n.percent,date:n.date}))}}).filter(p=>{var C;return((C=p.list)==null?void 0:C.length)>0||!p.list})}:{name:s.name,price:s.total?s.total.price:0,percent:s.total?s.total.percent:0,total:s.total,date:s.date}).filter(s=>{var p;return((p=s.list)==null?void 0:p.length)>0||!s.list}))(F.list||[])),e=()=>console.log("Exporting to PDF..."),r=()=>console.log("Exporting to Excel...");return(b,o)=>(x(),Z(W,null,{default:j(()=>[t("div",Vt,[T(N,null,{default:j(()=>[T(at,{filters:c.value,"filtered-data":a.value,"total-data":q(F).total,"onUpdate:filters":o[0]||(o[0]=s=>c.value=s),onExportToPdf:e,onExportToExcel:r},null,8,["filters","filtered-data","total-data"]),T(Nt,{"filtered-data":a.value,"total-data":q(F).total},null,8,["filtered-data","total-data"])]),_:1})])]),_:1}))}};export{Xt as default};
