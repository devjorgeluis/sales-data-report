import{a as L}from"./AdminLayout-CdADD2qH.js";import{_ as j}from"./ComponentCard.vue_vue_type_script_setup_true_lang-Dd1cLLQ3.js";import{E as G,a as N,u as v,w as W}from"./xlsx-Csu_9n-F.js";import{f as U}from"./flatpickr.min-B-f_2Bm6.js";import{r as z,m as M,i as V,c as h,o as g,a as t,F as b,k as D,b as $,t as r,n as F,d as R,g as Y,w as O,e as S,u as q}from"./index-BfkmGHbt.js";const H={class:"p-3 sm:p-5 border-b border-gray-200 dark:border-gray-700"},J={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4"},K={class:"flex flex-col gap-2 w-[300px]"},Q={__name:"PlFilters",props:{filters:{type:Object,required:!0},filteredData:{type:Array,required:!0},totalData:{type:Object,required:!0}},emits:["update:filters","export-to-pdf","export-to-excel"],setup(d,{emit:c}){const o=d,e=c,n=z({...o.filters}),C=z(null);M(()=>{U(C.value,{mode:"range",dateFormat:"m/d/Y",defaultDate:[n.value.startDate,n.value.endDate],onChange:l=>{l.length===2&&(n.value.startDate=l[0].toISOString().split("T")[0],n.value.endDate=l[1].toISOString().split("T")[0],e("update:filters",{...n.value}))}})}),V(n,l=>{e("update:filters",{...l})},{deep:!0});const a=l=>l!==0?Number(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"-",i=l=>l.replace(/^./,s=>s.toUpperCase()),p=()=>{const l=new G,s=[];o.filteredData&&o.filteredData.length?(o.filteredData.forEach(f=>{var x,u,_,E;s.push([{content:i(f.name)+":",styles:{fontStyle:"bold",halign:"left",fillColor:[255,255,255],textColor:[0,0,0]}},"","",""]),f.list&&f.list.length&&f.list.forEach(y=>{var P,B;const w=y.list&&y.list.length>0,A=[{content:`    ${i(y.name)}${w?" - ":""}`,styles:{halign:"left",fillColor:w?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:w?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:a(((P=y.total)==null?void 0:P.price)??y.price??0),styles:{halign:"right",fillColor:w?[255,255,255]:[254,249,194],textColor:[0,0,0]}},{content:(((B=y.total)==null?void 0:B.percent)??y.percent??0)+"%",styles:{halign:"right",fillColor:w?[255,255,255]:[254,249,194],textColor:[0,0,0]}}];s.push(A),y.list&&y.list.length&&y.list.forEach(k=>{s.push([{content:`        ${i(k.name)}`,styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a(k.price??0),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:(k.percent??0)+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}])}),y.total&&s.push([{content:`Total ${y.name}`,styles:{halign:"center",fillColor:[128,128,128],textColor:[255,255,0]}},{content:"$",styles:{halign:"center",fillColor:[128,128,128],textColor:[255,255,0]}},{content:a(y.total.price),styles:{halign:"right",fillColor:[128,128,128],textColor:[255,255,0]}},{content:y.total.percent+"%",styles:{halign:"right",fillColor:[128,128,128],textColor:[255,255,0]}}])}),s.push([{content:`Total ${f.name}`,styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a(((x=f.total)==null?void 0:x.price)??f.price??0),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:(((u=f.total)==null?void 0:u.percent)??f.percent??0)+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),f.production_cost&&s.push([{content:"Costo de Produccion",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a(((_=f.production_cost)==null?void 0:_.price)??"-"),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:(((E=f.production_cost)==null?void 0:E.percent)??0)+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),s.push([{content:"",colSpan:4,styles:{cellWidth:"auto",fillColor:[255,255,255]}}])}),o.totalData&&(s.push([{content:"Ganancia Operativa Bruta",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a(o.totalData.profit.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:o.totalData.profit.percent+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),s.push([{content:"Impuestos SAT",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a(o.totalData.tax.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:o.totalData.tax.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),s.push([{content:"Préstamos Bancarios",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a(o.totalData.bank_loans.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:o.totalData.bank_loans.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),s.push([{content:"Intereses",styles:{halign:"left",fillColor:[254,249,194],textColor:[0,0,0]}},{content:"$",styles:{halign:"center",fillColor:[254,249,194],textColor:[0,0,0]}},{content:a(o.totalData.interest.price),styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}},{content:o.totalData.interest.percent+"%",styles:{halign:"right",fillColor:[254,249,194],textColor:[0,0,0]}}]),s.push([{content:"Ganancia Bruta antes de Impuestos",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a(o.totalData.profit_without_tax.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:o.totalData.profit_without_tax.percent+"%",styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}}]),s.push([{content:"TOTAL GASTOS",styles:{halign:"left",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:"$",styles:{halign:"center",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},{content:a(o.totalData.expense.price),styles:{halign:"right",fillColor:[0,0,0],textColor:[255,255,0],fontStyle:"bold"}},""]))):s.push(["No data","-","-","-"]),N(l,{body:s,startY:10,theme:"plain",styles:{cellPadding:2},columnStyles:{0:{cellWidth:100},1:{cellWidth:10},2:{cellWidth:40},3:{cellWidth:30}}}),l.save("profit_loss_report.pdf"),e("export-to-pdf")},m=()=>{const l=[];o.filteredData.forEach(x=>{l.push([i(x.name),a(x.total?x.total.price:x.price),(x.total?x.total.percent:x.percent)+"%"]),x.list&&x.list.forEach(u=>{l.push(["  "+i(u.name),a(u.total?u.total.price:u.price),(u.total?u.total.percent:u.percent)+"%"]),u.list&&u.list.forEach(_=>{l.push(["    "+i(_.name),a(_.price),_.percent+"%"])})})}),l.push(["Ganancia Operativa Bruta",a(o.totalData.profit.price),o.totalData.profit.percent+"%"]),l.push(["Impuestos SAT",a(o.totalData.tax.price),o.totalData.tax.percent+"%"]),l.push(["Préstamos Bancarios",a(o.totalData.bank_loans.price),o.totalData.bank_loans.percent+"%"]),l.push(["Intereses",a(o.totalData.interest.price),o.totalData.interest.percent+"%"]),l.push(["Ganancia Bruta antes de Impuestos",a(o.totalData.profit_without_tax.price),o.totalData.profit_without_tax.percent+"%"]),l.push(["TOTAL GASTOS",a(o.totalData.expense.price)," "]);const s=v.aoa_to_sheet(l),f=v.book_new();v.book_append_sheet(f,s,"ProfitLoss"),W(f,"profit_loss_report.xlsx"),e("export-to-excel")};return(l,s)=>(g(),h("div",H,[t("div",J,[t("div",K,[s[0]||(s[0]=t("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"},"Date Range",-1)),t("input",{ref_key:"datePicker",ref:C,class:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-200",placeholder:"Select date range"},null,512)]),t("div",{class:"flex flex-wrap gap-3"},[t("button",{onClick:p,class:"px-4 py-2 bg-yellow-400 text-sm text-black rounded-lg hover:bg-yellow-500 transition-colors"}," Export to PDF "),t("button",{onClick:m,class:"px-4 py-2 bg-yellow-400 text-sm text-black rounded-lg hover:bg-yellow-500 transition-colors"}," Export to Excel ")])])]))}},X={class:"p-3 sm:p-5 max-w-full overflow-x-auto custom-scrollbar"},Z={class:"w-full"},I={class:"bg-white dark:bg-gray-700 dark:text-gray-400"},tt={class:"font-bold capitalize",colspan:"4"},et=["colspan"],at={class:"px-2 font-bold text-right"},ot={class:"px-2 font-bold text-right"},lt={class:"px-2 pl-12 capitalize"},rt={class:"px-2 text-right font-bold"},nt={class:"px-2 text-right font-bold"},it={key:1,class:"bg-gray-500"},st={class:"px-2 font-regular text-center text-yellow-300"},ct={class:"px-2 text-right font-bold text-yellow-300"},pt={class:"px-2 text-right font-bold text-yellow-300"},dt={class:"font-bold bg-black dark:bg-gray-700 text-yellow-300 dark:text-yellow-500 capitalize"},ft={class:"px-2 py-1 capitalize"},xt={class:"px-2 py-1 text-right"},yt={class:"px-2 py-1 text-right"},gt={key:1,class:"font-bold bg-black dark:bg-gray-700 text-yellow-300 dark:text-yellow-500 capitalize"},ht={class:"px-2 py-1 text-right"},ut={class:"px-2 py-1 text-right"},mt={class:"bg-black dark:bg-gray-700 mt-3"},Ct={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},bt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},_t={class:"bg-yellow-100 dark:bg-yellow-200"},wt={class:"px-2 text-right font-bold"},Dt={class:"px-2 text-right font-bold"},kt={class:"bg-yellow-100 dark:bg-yellow-200"},vt={class:"px-2 text-right font-bold"},$t={class:"px-2 text-right font-bold"},St={class:"bg-yellow-100 dark:bg-yellow-200"},Tt={class:"px-2 text-right font-bold"},zt={class:"px-2 text-right font-bold"},Et={class:"bg-black dark:bg-gray-700"},Pt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},Bt={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},Ft={class:"bg-black dark:bg-gray-700"},Ot={class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},qt={key:1},At={__name:"PlTable",props:{filteredData:Array,totalData:Object},setup(d){const c=o=>o!==0?Number(o).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"-";return(o,e)=>(g(),h("div",X,[t("table",Z,[t("tbody",null,[d.filteredData&&d.filteredData.length?(g(),h(b,{key:0},[(g(!0),h(b,null,$(d.filteredData,(n,C)=>(g(),h(b,{key:C},[t("tr",I,[t("td",tt,r(n.name)+": ",1)]),n.list&&n.list.length?(g(!0),h(b,{key:0},$(n.list,(a,i)=>(g(),h(b,{key:`${C}-${i}`},[t("tr",{class:F(a.list&&a.list.length>0?"bg-white dark:bg-gray-700 dark:text-gray-400":"bg-yellow-100 dark:bg-yellow-200")},[t("td",{class:F(["px-2 capitalize",{"font-bold":a.list&&a.list.length>0}]),colspan:a.list&&a.list.length===0?"4":"1"},r(a.name)+" "+r(a.list&&a.list.length>0?"-":""),11,et),e[0]||(e[0]=t("td",{class:"px-2 font-bold text-center"}," $ ",-1)),t("td",at,r(a.total?c(a.total.price):c(a.price)),1),t("td",ot,r(a.total?a.total.percent:a.percent)+"% ",1)],2),a.list&&a.list.length?(g(!0),h(b,{key:0},$(a.list,(p,m)=>(g(),h("tr",{class:"bg-yellow-100 dark:bg-yellow-200",key:`${C}-${i}-${m}`},[t("td",lt,r(p.name),1),e[1]||(e[1]=t("td",{class:"px-2 text-center font-bold"}," $ ",-1)),t("td",rt,r(c(p.price)),1),t("td",nt,r(p.percent)+"% ",1)]))),128)):D("",!0),a.total?(g(),h("tr",it,[t("td",st," Total "+r(a.name),1),e[2]||(e[2]=t("td",{class:"px-2 font-bold text-yellow-300 text-center"}," $ ",-1)),t("td",ct,r(c(a.total.price)),1),t("td",pt,r(a.total.percent)+"% ",1)])):D("",!0)],64))),128)):D("",!0),t("tr",dt,[t("td",ft," total "+r(n.name),1),e[3]||(e[3]=t("td",{class:"px-2 py-1 text-center"}," $ ",-1)),t("td",xt,r(n.total?c(n.total.price):c(n.price)),1),t("td",yt,r(n.total?n.total.percent:n.percent)+"% ",1)]),n.production_cost?(g(),h("tr",gt,[e[4]||(e[4]=t("td",{class:"px-2 py-1"}," Costo de Produccion ",-1)),e[5]||(e[5]=t("td",{class:"px-2 py-1 text-center"}," $ ",-1)),t("td",ht,r(n.production_cost?c(n.production_cost.price):"-"),1),t("td",ut,r(n.production_cost?n.production_cost.percent:0)+"% ",1)])):D("",!0),e[6]||(e[6]=t("tr",{class:"h-[20px]"},null,-1))],64))),128)),d.totalData?(g(),h(b,{key:0},[t("tr",mt,[e[7]||(e[7]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"Ganancia Operativa Bruta",-1)),e[8]||(e[8]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",Ct,r(c(d.totalData.profit.price)),1),t("td",bt,r(d.totalData.profit.percent)+"% ",1)]),t("tr",_t,[e[9]||(e[9]=t("td",{class:"px-2 capitalize"},"Impuestos SAT",-1)),e[10]||(e[10]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",wt,r(c(d.totalData.tax.price)),1),t("td",Dt,r(d.totalData.tax.percent)+"%",1)]),t("tr",kt,[e[11]||(e[11]=t("td",{class:"px-2 capitalize"},"Préstamos Bancarios",-1)),e[12]||(e[12]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",vt,r(c(d.totalData.bank_loans.price)),1),t("td",$t,r(d.totalData.bank_loans.percent)+"%",1)]),t("tr",St,[e[13]||(e[13]=t("td",{class:"px-2 capitalize"},"Intereses",-1)),e[14]||(e[14]=t("td",{class:"px-2 capitalize font-bold text-center"},"$",-1)),t("td",Tt,r(c(d.totalData.interest.price)),1),t("td",zt,r(d.totalData.interest.percent)+"%",1)]),t("tr",Et,[e[15]||(e[15]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"Ganancia Bruta antes de Impuestos",-1)),e[16]||(e[16]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",Pt,r(c(d.totalData.profit_without_tax.price)),1),t("td",Bt,r(d.totalData.profit_without_tax.percent)+"% ",1)]),t("tr",Ft,[e[17]||(e[17]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 capitalize"},"TOTAL GASTOS",-1)),e[18]||(e[18]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-center"},"$",-1)),t("td",Ot,r(c(d.totalData.expense.price)),1),e[19]||(e[19]=t("td",{class:"px-2 py-1 font-bold text-yellow-300 dark:text-yellow-500 text-right"},null,-1))])],64)):D("",!0)],64)):(g(),h("tr",qt,e[20]||(e[20]=[t("td",{colspan:"4",class:"px-2 text-center"},"No data available",-1)])))])])]))}},Lt=[{name:"ventas",date:"2025-06-01",total:{price:267482.56,percent:100},production_cost:{price:6510.7,percent:50},list:[{name:"alimento",date:"2025-06-02",price:191631.24,percent:71.6},{name:"refrescos",date:"2025-06-03",price:0,percent:0},{name:"Otra Mercancia",date:"2025-06-04",price:0,percent:0},{name:"bar",date:"2025-06-05",total:{price:75531.32,percent:28.4},list:[{name:"licor",date:"2025-06-06",price:45171.15,percent:16.9},{name:"cerveza - barril",date:"2025-06-07",price:0,percent:0},{name:"cerveza - embotellada",date:"2025-06-08",price:26077.76,percent:9.9},{name:"vino",date:"2025-06-09",price:4072.41,percent:1.5}]},{name:"otros ingresos operativos",date:"2025-06-10",total:{price:0,percent:0},list:[{name:"rentas salones de eventos",date:"2025-06-11",price:0,percent:0},{name:"renta de equipo banquetes",date:"2025-06-12",price:0,percent:0},{name:"ingresos por servicios",date:"2025-06-13",price:0,percent:0},{name:"ingresos por otros servicios",date:"2025-06-14",price:0,percent:0}]}]},{name:"costo de venta",date:"2025-06-15",total:{price:100933.79,percent:37.7},production_cost:{price:5310.47,percent:40},list:[{name:"alimento",date:"2025-06-16",price:66791.96,percent:34.9},{name:"bar",date:"2025-06-17",price:29268.52,percent:38.6},{name:"desechables",date:"2025-06-18",price:4873.31,percent:1.8}]},{name:"mano de obra",date:"2025-06-19",total:{price:112965.91,percent:42.2},production_cost:{price:7315.47,percent:65},list:[{name:"admin",date:"2025-06-20",price:7e3,percent:4.3},{name:"empleados",date:"2025-06-19",total:{price:.01,percent:0},list:[{name:"cocina",date:"2025-06-21",price:0,percent:0},{name:"piso",date:"2025-06-22",price:0,percent:0},{name:"banquetes",date:"2025-06-23",price:112965.9,percent:42.2},{name:"empleados",date:"2025-06-24",price:34596.9,percent:21.2}]},{name:"prestaiones empleados",date:"2025-06-24",total:{price:.01,percent:0},list:[{name:"impuestos prestaciones",date:"2025-06-25",price:.01,percent:0},{name:"seguro social I.M.S.S.",date:"2025-06-26",price:0,percent:0},{name:"uber/taxi empleados",date:"2025-06-27",price:0,percent:0},{name:"otras prestaciones",date:"2025-06-28",price:0,percent:0}]}]},{name:"gastos fijos o variables",date:"2025-06-29",total:{price:127072.1,percent:47.5},production_cost:{price:213899.7,percent:80},list:[{name:"gastos de automovil o camion",date:"2025-06-30",price:0,percent:0},{name:"banquetes y catering",date:"2025-07-01",price:0,percent:0},{name:"utensilios de bar y suminstros",date:"2025-07-02",price:746,percent:.3},{name:"suministros de limpieza",date:"2025-07-03",price:2500.98,percent:.9},{name:"equipos/otros alquileres",date:"2025-07-04",price:0,percent:0},{name:"flores y decoraciones",date:"2025-07-05",price:3626.59,percent:1.4},{name:"cargos por flete y combustible",date:"2025-07-06",price:0,percent:0},{name:"cristaleria",date:"2025-07-07",price:0,percent:0},{name:"utensilios de cocina",date:"2025-07-08",price:5198.53,percent:1.9},{name:"lavanderia y tinteria",date:"2025-07-09",price:0,percent:0},{name:"alquiler de ropa y manteleria",date:"2025-07-10",price:0,percent:0},{name:"menus y listas de bebidas",date:"2025-07-11",price:0,percent:0},{name:"miscelaneas/varios",date:"2025-07-12",price:0,percent:0},{name:"papel y empaque",date:"2025-07-13",price:0,percent:0},{name:"valet parking",date:"2025-07-14",price:0,percent:0},{name:"control de plagas",date:"2025-07-15",price:0,percent:0},{name:"vajilla y articulos de servicio",date:"2025-07-16",price:0,percent:0},{name:"uniformes",date:"2025-07-17",price:0,percent:0},{name:"gastos directos operativos",date:"2025-07-18",total:{price:12707.1,percent:4.8}},{name:"musica y entretenimiento",date:"2025-07-19",total:{price:810,percent:.3},list:[{name:"bandas y musicos",date:"2025-07-20",price:0,percent:0},{name:"tarifas de licencias de musica",date:"2025-07-21",price:0,percent:0},{name:"servicio de transmision de television",date:"2025-07-22",price:810,percent:.3}]},{name:"mercadotecnia",date:"2025-07-23",total:{price:806.4,percent:.3},list:[{name:"publicidad de respuesta directa",date:"2025-07-24",price:806.4,percent:.3},{name:"relaciones publicas y publicidad",date:"2025-07-25",price:0,percent:0},{name:"encuestas de mercado",date:"2025-07-26",price:0,percent:0},{name:"otro",date:"2025-07-27",price:0,percent:0}]},{name:"servicios",date:"2025-07-28",total:{price:56157.45,percent:21},list:[{name:"electricidad",date:"2025-07-29",price:51409,percent:19.2},{name:"gas",date:"2025-07-30",price:0,percent:0},{name:"carbon",date:"2025-07-31",price:0,percent:0},{name:"otros combustibles-hielo",date:"2025-08-01",price:478.5,percent:.2},{name:"basura",date:"2025-08-02",price:4269.95,percent:1.6},{name:"agua y alcantarillado",date:"2025-08-03",price:0,percent:0}]},{name:"gastos generales & admin",date:"2025-08-04",total:{price:16363.63,percent:6.1},list:[{name:"cargos bancarios",date:"2025-08-05",price:10524.93,percent:3.9},{name:"efectivo (positivo/negativo) caja chica",date:"2025-08-06",price:0,percent:0},{name:"reclamaciones y danos pagados",date:"2025-08-07",price:0,percent:0},{name:"servicios de consultoria y coaching",date:"2025-08-08",price:0,percent:0},{name:"tarifas de tarjetas de credito",date:"2025-08-09",price:0,percent:0},{name:"honorarios de directores o funcionarios",date:"2025-08-10",price:0,percent:0},{name:"tovenmx",date:"2025-08-11",price:0,percent:0},{name:"seguros-responsabilidad civil y general",date:"2025-08-12",price:0,percent:0},{name:"licencias y permisos",date:"2025-08-13",price:2674.14,percent:1},{name:"miscelaneas",date:"2025-08-14",price:0,percent:0},{name:"articulos de oficina",date:"2025-08-15",price:3164.56,percent:1.2},{name:"eventos especiales",date:"2025-08-16",price:0,percent:0},{name:"servicios profesionales",date:"2025-08-17",price:0,percent:0},{name:"servicios de seguridad y deposito",date:"2025-08-18",price:0,percent:0},{name:"impuestos comerciales estatales",date:"2025-08-19",price:0,percent:0},{name:"telefono y comunicaciones",date:"2025-08-20",price:0,percent:0},{name:"programas y materiales de capacitacion",date:"2025-08-21",price:0,percent:0}]},{name:"reparaciones & mantenimiento",date:"2025-08-22",total:{price:11730.67,percent:4.4},list:[{name:"servicio de trampa de grasa",date:"2025-08-23",price:0,percent:0},{name:"equipos y mobiliario",date:"2025-08-24",price:11730.67,percent:4.4},{name:"terrenos y estacionamiento",date:"2025-08-25",price:0,percent:0}]}],ganancia_operativa:{price:-44357.39,percent:-16.6}},{name:"gastos fijos",date:"2025-08-26",total:{price:44357.39,percent:16.6},profit:{price:19983.4,percent:12.3},list:[{name:"costos de ocupación",date:"2025-08-27",total:{price:23354.4,percent:8.7},list:[{name:"renta",date:"2025-08-28",price:0,percent:0},{name:"mantenimiento de áreas comunes",date:"2025-08-29",price:2768.4,percent:1},{name:"seguro de edificio y contenido",date:"2025-08-30",price:0,percent:0},{name:"otros impuestos estatales",date:"2025-08-31",price:20586,percent:7.7},{name:"predial",date:"2025-09-01",price:0,percent:0},{name:"otros impuestos",date:"2025-09-02",price:0,percent:0}]},{name:"arriendamientos de equipos",date:"2025-09-03",price:0,percent:0},{name:"depreciación y amortización",date:"2025-09-04",price:0,percent:0}]}],jt={profit:{price:-11816.13,percent:7.3},tax:{price:0,percent:0},bank_loans:{price:0,percent:0},interest:{price:0,percent:0},profit_without_tax:{price:-11816.13,percent:7.3},expense:{price:73068.28,percent:7.3}},T={list:Lt,total:jt},Gt={class:"space-y-5 sm:space-y-6"},Rt={__name:"ProfitLoss",setup(d){const c=z({startDate:"",endDate:""}),o=R(()=>(a=>!c.value.startDate||!c.value.endDate?a:a.map(i=>i.list?{...i,list:i.list.map(p=>{var m;return{name:p.name,price:p.price||(p.total?p.total.price:0),percent:p.percent||(p.total?p.total.percent:0),total:p.total,list:(m=p.list)==null?void 0:m.filter(l=>{let s=new Date(l.date||"2025-06-01");const f=new Date(c.value.startDate),x=new Date(c.value.endDate);return s>=f&&s<=x}).map(l=>({name:l.name,price:l.price,percent:l.percent,date:l.date}))}}).filter(p=>{var m;return((m=p.list)==null?void 0:m.length)>0||!p.list})}:{name:i.name,price:i.total?i.total.price:0,percent:i.total?i.total.percent:0,total:i.total,date:i.date}).filter(i=>{var p;return((p=i.list)==null?void 0:p.length)>0||!i.list}))(T.list||[])),e=()=>console.log("Exporting to PDF..."),n=()=>console.log("Exporting to Excel...");return(C,a)=>(g(),Y(L,null,{default:O(()=>[t("div",Gt,[S(j,null,{default:O(()=>[S(Q,{filters:c.value,"filtered-data":o.value,"total-data":q(T).total,"onUpdate:filters":a[0]||(a[0]=i=>c.value=i),onExportToPdf:e,onExportToExcel:n},null,8,["filters","filtered-data","total-data"]),S(At,{"filtered-data":o.value,"total-data":q(T).total},null,8,["filtered-data","total-data"])]),_:1})])]),_:1}))}};export{Rt as default};
